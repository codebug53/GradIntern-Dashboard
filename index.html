<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobConnect - Student & Recruiter Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom gradients and glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .glass-dark {
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-bg {
            background: black;
        }
        .gradient-student {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .gradient-recruiter {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        body {
            background-image: url("components/background.jpg");
            background-position: center;
            background-size : cover; 
            background-repeat: no-repeat;
            min-height: 100vh;
            height: auto;
        }
    </style>
</head>
<body class="font-sans" >
    <!-- Header -->
    <header class="glass sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <img src = "components/logo.png" alt="GradIntern logo" style="width: 150px; height: auto"></img>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <button onclick="showDashboard('home')" class="text-black hover:text-purple-200 transition-colors">Home</button>
                    <button onclick="showDashboard('student')" class="text-black hover:text-purple-200 transition-colors">Student Portal</button>
                    <button onclick="showDashboard('recruiter')" class="text-black hover:text-purple-200 transition-colors">Recruiter Portal</button>
                </nav>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-black">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="hidden md:hidden mt-4 space-y-2">
                <button onclick="showDashboard('home')" class="block w-full text-left text-black hover:text-purple-200 py-2">Home</button>
                <button onclick="showDashboard('student')" class="block w-full text-left text-black hover:text-purple-200 py-2">Student Portal</button>
                <button onclick="showDashboard('recruiter')" class="block w-full text-left text-black hover:text-purple-200 py-2">Recruiter Portal</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Home Dashboard -->
        <div id="homeDashboard" class="dashboard">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-6xl font-bold text-black mb-4">Welcome to GradIntern</h2>
                <p class="text-xl text-purple-100 mb-8">Your gateway to career opportunities and talent acquisition</p>
                <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                    <!-- Student Card -->
                    <div class="glass rounded-2xl p-8 hover:scale-105 transition-transform cursor-pointer" onclick="showDashboard('student')">
                        <div class="gradient-student w-16 h-16 rounded-xl flex items-center justify-center mb-4 mx-auto">
                            <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-black mb-2">Student Portal</h3>
                        <p class="text-purple-100">Find your dream job, apply to positions, and track your applications</p>
                    </div>
                    <!-- Recruiter Card -->
                    <div class="glass rounded-2xl p-8 hover:scale-105 transition-transform cursor-pointer" onclick="showDashboard('recruiter')">
                        <div class="gradient-recruiter w-16 h-16 rounded-xl flex items-center justify-center mb-4 mx-auto">
                            <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                                <path d="M6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-black mb-2">Recruiter Portal</h3>
                        <p class="text-purple-100">Post job listings, manage positions, and find the perfect candidates</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Student Dashboard -->
        <div id="studentDashboard" class="dashboard hidden">
            <div class="mb-8">
                <h2 class="text-3xl text-center font-bold text-black mb-2">Student Dashboard</h2>
                <p class="text-purple-100 text-center">Discover opportunities and manage your job applications</p>
            </div>

            <!-- Search and Filter -->
            <div class="glass rounded-xl p-6 mb-8">
                <div class="flex flex-col md:flex-row gap-4">
                    <div class="flex-1">
                        <input type="text" id="jobSearch" placeholder="Search jobs by title, company, or keywords..." 
                               class="w-full px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-blue-400">
                    </div>
                    <button onclick="searchJobs()" class="px-6 py-3 gradient-student text-black rounded-lg hover:opacity-90 transition-opacity">
                        Search Jobs
                    </button>
                    <button onclick="exportApplications()" class="px-6 py-3 bg-green-500 text-black rounded-lg hover:bg-green-600 transition-colors">
                        Export CSV
                    </button>
                </div>
            </div>

            <!-- Application Status Filter -->
            <div class="glass rounded-xl p-4 mb-8">
                <div class="flex flex-wrap gap-2">
                    <button onclick="filterApplications('all')" class="px-4 py-2 bg-black/20 text-black rounded-lg hover:bg-black/30 transition-colors filter-btn active">All</button>
                    <button onclick="filterApplications('pending')" class="px-4 py-2 bg-black/20 text-black rounded-lg hover:bg-black/30 transition-colors filter-btn">Pending</button>
                    <button onclick="filterApplications('applied')" class="px-4 py-2 bg-black/20 text-black rounded-lg hover:bg-black/30 transition-colors filter-btn">Applied</button>
                    <button onclick="filterApplications('rejected')" class="px-4 py-2 bg-black/20 text-black rounded-lg hover:bg-black/30 transition-colors filter-btn">Rejected</button>
                    <button onclick="filterApplications('interview')" class="px-4 py-2 bg-black/20 text-black rounded-lg hover:bg-black/30 transition-colors filter-btn">Interview</button>
                </div>
            </div>

            <!-- Job Listings -->
            <div id="jobListings" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                <!-- Jobs will be dynamically loaded here -->
            </div>
        </div>

        <!-- Recruiter Dashboard -->
        <div id="recruiterDashboard" class="dashboard hidden">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-black text-center mb-2">Recruiter Dashboard</h2>
                <p class="text-purple-100 text-center">Manage your job postings and find the perfect candidates</p>
            </div>

            <!-- Add Job Form -->
            <div class="glass rounded-xl p-6 mb-8">
                <h3 class="text-xl font-bold text-black mb-4">Post New Job</h3>
                <form id="jobForm" class="grid gap-4 md:grid-cols-2">
                    <input type="text" id="jobTitle" placeholder="Job Title" required
                           class="px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    <input type="text" id="jobCompany" placeholder="Company Name" required
                           class="px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    <input type="text" id="jobLocation" placeholder="Location" required
                           class="px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    <input type="url" id="jobUrl" placeholder="Application URL"
                           class="px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-pink-400">
                    <textarea id="jobDescription" placeholder="Job Description" required rows="4"
                              class="md:col-span-2 px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-pink-400"></textarea>
                    <button type="submit" class="md:col-span-2 px-6 py-3 gradient-recruiter text-black rounded-lg hover:opacity-90 transition-opacity">
                        Post Job
                    </button>
                </form>
            </div>

            <!-- Posted Jobs -->
            <div class="glass rounded-xl p-6">
                <h3 class="text-xl font-bold text-black mb-4">Your Job Postings</h3>
                <div id="postedJobs" class="grid gap-4">
                    <!-- Posted jobs will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </main>

    

    <!-- Job Application Modal -->
    <div id="applicationModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50 flex items-center justify-center p-4">
        <div class="glass rounded-xl p-6 w-full max-w-md">
            <h3 class="text-xl font-bold text-black mb-4">Apply for Job</h3>
            <form id="applicationForm">
                <input type="hidden" id="applyJobId">
                <div class="mb-4">
                    <label class="block text-purple-100 mb-2">Full Name</label>
                    <input type="text" id="applicantName" required
                           class="w-full px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-blue-400">
                </div>
                <div class="mb-4">
                    <label class="block text-purple-100 mb-2">Email</label>
                    <input type="email" id="applicantEmail" required
                           class="w-full px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-blue-400">
                </div>
                <div class="mb-6">
                    <label class="block text-purple-100 mb-2">Cover Letter</label>
                    <textarea id="coverLetter" rows="4"
                              class="w-full px-4 py-3 rounded-lg bg-black/20 text-black placeholder-purple-200 border border-black/30 focus:outline-none focus:ring-2 focus:ring-blue-400"></textarea>
                </div>
                <div class="flex gap-3">
                    <button type="submit" class="flex-1 px-6 py-3 gradient-student text-black rounded-lg hover:opacity-90 transition-opacity">
                        Apply Now
                    </button>
                    <button type="button" onclick="closeApplicationModal()" class="px-6 py-3 bg-gray-500 text-black rounded-lg hover:bg-gray-600 transition-colors">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let jobs = [
            {
                id: 1,
                title: "Frontend Developer",
                company: "TechCorp Inc.",
                location: "Remote",
                description: "We're looking for a passionate frontend developer to join our dynamic team. Experience with React, JavaScript, and modern web technologies required.",
                url: "https://techcorp.com/careers/frontend-dev",
                postedDate: new Date().toISOString().split('T')[0]
            },
            {
                id: 2,
                title: "UX/UI Designer",
                company: "Design Studio",
                location: "New York, NY",
                description: "Creative UX/UI designer needed to create beautiful and intuitive user experiences. Proficiency in Figma, Adobe Creative Suite required.",
                url: "https://designstudio.com/jobs/ux-designer",
                postedDate: new Date().toISOString().split('T')[0]
            },
            {
                id: 3,
                title: "Data Scientist",
                company: "Analytics Pro",
                location: "San Francisco, CA",
                description: "Join our data science team to work on cutting-edge machine learning projects. Python, SQL, and statistical analysis experience required.",
                url: "https://analyticspro.com/careers/data-scientist",
                postedDate: new Date().toISOString().split('T')[0]
            }
        ];

        let applications = [
            {
                id: 1,
                jobId: 1,
                applicantName: "John Doe",
                applicantEmail: "john@email.com",
                status: "pending",
                appliedDate: new Date().toISOString().split('T')[0],
                coverLetter: "I'm excited to apply for this position..."
            }
        ];

        let nextJobId = 4;
        let nextApplicationId = 2;
        function showDashboard(dashboard) {
            const dashboards = document.querySelectorAll('.dashboard');
            dashboards.forEach(d => d.classList.add('hidden'));
            
            document.getElementById(dashboard + 'Dashboard').classList.remove('hidden');
            
            if (dashboard === 'student') {
                renderJobListings();
            } else if (dashboard === 'recruiter') {
                renderPostedJobs();
            }
        }
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }
        // Job management functions
        function addJob(jobData) {
            const newJob = {
                id: nextJobId++,
                ...jobData,
                postedDate: new Date().toISOString().split('T')[0]
            };
            jobs.push(newJob);
            return newJob;
        }

        function deleteJob(jobId) {
            jobs = jobs.filter(job => job.id !== jobId);
            applications = applications.filter(app => app.jobId !== jobId);
        }

        function updateJob(jobId, updates) {
            const jobIndex = jobs.findIndex(job => job.id === jobId);
            if (jobIndex !== -1) {
                jobs[jobIndex] = { ...jobs[jobIndex], ...updates };
            }
        }

        function getJobs(searchTerm = '') {
            if (!searchTerm) return jobs;
            
            return jobs.filter(job => 
                job.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                job.company.toLowerCase().includes(searchTerm.toLowerCase()) ||
                job.description.toLowerCase().includes(searchTerm.toLowerCase())
            );
        }

        // Application management
        function addApplication(applicationData) {
            const newApplication = {
                id: nextApplicationId++,
                ...applicationData,
                status: 'applied',
                appliedDate: new Date().toISOString().split('T')[0]
            };
            applications.push(newApplication);
            return newApplication;
        }

        function getApplicationStatus(jobId) {
            const application = applications.find(app => app.jobId === jobId);
            return application ? application.status : null;
        }

        function updateApplicationStatus(applicationId, status) {
            const appIndex = applications.findIndex(app => app.id === applicationId);
            if (appIndex !== -1) {
                applications[appIndex].status = status;
            }
        }

        // Rendering functions
        function renderJobListings(filteredJobs = null) {
    const container = document.getElementById('jobListings');
    const jobsToRender = filteredJobs || jobs;

    container.innerHTML = jobsToRender.map(job => {
        const applicationStatus = getApplicationStatus(job.id);
        
        const statusBadge = applicationStatus
            ? `<span class="absolute top-7 right-5 px-3 py-1 text-xs font-semibold rounded-full ${getStatusColor(applicationStatus)} z-10">
                    ${applicationStatus.charAt(0).toUpperCase() + applicationStatus.slice(1)}
               </span>`
            : '';

        return `
            <div class="relative glass rounded-xl p-6 hover:scale-105 transition-transform">
                ${statusBadge}
                <h3 class="text-xl font-bold text-black mb-2">${job.title}</h3>
                <p class="text-purple-200 mb-2">${job.company}</p>
                <p class="text-purple-100 text-sm mb-3">${job.location}</p>
                <p class="text-purple-100 mb-4 line-clamp-3">${job.description}</p>
                <div class="flex gap-2">
                    ${!applicationStatus ? 
                        `<button onclick="openApplicationModal(${job.id})" class="flex-1 px-4 py-2 gradient-student text-black rounded-lg hover:opacity-90 transition-opacity">
                            Apply Now
                        </button>` : 
                        `<button disabled class="flex-1 px-4 py-2 bg-gray-500 text-black rounded-lg opacity-50 cursor-not-allowed">
                            Applied
                        </button>`
                    }
                    ${job.url ? 
                        `<a href="${job.url}" target="_blank" class="px-4 py-2 bg-black/20 text-black rounded-lg hover:bg-black/30 transition-colors">
                            View Job
                        </a>` : ''
                    }
                </div>
            </div>
        `;
    }).join('');
}


        function renderPostedJobs() {
            const container = document.getElementById('postedJobs');
            
            if (jobs.length === 0) {
                container.innerHTML = '<p class="text-purple-100 text-center py-8">No jobs posted yet. Create your first job posting above!</p>';
                return;
            }
            
            container.innerHTML = jobs.map(job => `
                <div class="bg-black/10 rounded-lg p-4 border border-black/20">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="text-lg font-semibold text-black">${job.title}</h4>
                        <div class="flex gap-2">
                            <button onclick="editJob(${job.id})" class="text-blue-300 hover:text-blue-100 transition-colors">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
                                </svg>
                            </button>
                            <button onclick="confirmDeleteJob(${job.id})" class="text-red-300 hover:text-red-100 transition-colors">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <p class="text-purple-200 text-sm mb-1">${job.company} • ${job.location}</p>
                    <p class="text-purple-100 text-sm mb-2">Posted: ${job.postedDate}</p>
                    <p class="text-purple-100 text-sm">${job.description.substring(0, 100)}${job.description.length > 100 ? '...' : ''}</p>
                </div>
            `).join('');
        }

        // Utility functions
        function getStatusColor(status) {
            const colors = {
                'pending': 'bg-yellow-500 text-yellow-100',
                'applied': 'bg-blue-500 text-blue-100',
                'rejected': 'bg-red-500 text-red-100',
                'interview': 'bg-green-500 text-green-100'
            };
            return colors[status] || 'bg-gray-500 text-gray-100';
        }

        // Search and filter functions
        function searchJobs() {
            const searchTerm = document.getElementById('jobSearch').value;
            const filteredJobs = getJobs(searchTerm);
            renderJobListings(filteredJobs);
        }

        function filterApplications(status) {
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            let filteredJobs;
            if (status === 'all') {
                filteredJobs = jobs;
            } else {
                const jobsWithStatus = applications
                    .filter(app => app.status === status)
                    .map(app => app.jobId);
                filteredJobs = jobs.filter(job => jobsWithStatus.includes(job.id));
            }
            
            renderJobListings(filteredJobs);
        }

        // Modal functions
        function openApplicationModal(jobId) {
            document.getElementById('applyJobId').value = jobId;
            document.getElementById('applicationModal').classList.remove('hidden');
        }

        function closeApplicationModal() {
            document.getElementById('applicationModal').classList.add('hidden');
            document.getElementById('applicationForm').reset();
        }

        // Export function
        function exportApplications() {
            const csvContent = [
                ['Job Title', 'Company', 'Applicant Name', 'Email', 'Status', 'Applied Date'],
                ...applications.map(app => {
                    const job = jobs.find(j => j.id === app.jobId);
                    return [
                        job ? job.title : 'Unknown',
                        job ? job.company : 'Unknown',
                        app.applicantName,
                        app.applicantEmail,
                        app.status,
                        app.appliedDate
                    ];
                })
            ].map(row => row.join(',')).join('\n');
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'job_applications.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Job management functions
        function confirmDeleteJob(jobId) {
            if (confirm('Are you sure you want to delete this job posting?')) {
                deleteJob(jobId);
                renderPostedJobs();
            }
        }

        function editJob(jobId) {
            const job = jobs.find(j => j.id === jobId);
            if (job) {
                document.getElementById('jobTitle').value = job.title;
                document.getElementById('jobCompany').value = job.company;
                document.getElementById('jobLocation').value = job.location;
                document.getElementById('jobUrl').value = job.url || '';
                document.getElementById('jobDescription').value = job.description;
                
                // Store the job ID for editing
                document.getElementById('jobForm').dataset.editingId = jobId;
            }
        }

        // Event listeners
        document.getElementById('jobForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                title: document.getElementById('jobTitle').value,
                company: document.getElementById('jobCompany').value,
                location: document.getElementById('jobLocation').value,
                url: document.getElementById('jobUrl').value,
                description: document.getElementById('jobDescription').value
            };
            
            const editingId = this.dataset.editingId;
            
            if (editingId) {
                updateJob(parseInt(editingId), formData);
                delete this.dataset.editingId;
            } else {
                addJob(formData);
            }
            
            this.reset();
            renderPostedJobs();
        });

        document.getElementById('applicationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const applicationData = {
                jobId: parseInt(document.getElementById('applyJobId').value),
                applicantName: document.getElementById('applicantName').value,
                applicantEmail: document.getElementById('applicantEmail').value,
                coverLetter: document.getElementById('coverLetter').value
            };
            
            addApplication(applicationData);
            closeApplicationModal();
            renderJobListings();
        });

        document.getElementById('jobSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchJobs();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showDashboard('home');
        });

        // Close modal when clicking outside
        document.getElementById('applicationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeApplicationModal();
            }
        });

        // Add CSS for active filter button
        const style = document.createElement('style');
        style.textContent = `
            .filter-btn.active {
                background: rgba(255, 255, 255, 0.4) !important;
                font-weight: 600;
            }
            .line-clamp-3 {
                display: -webkit-box;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
